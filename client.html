<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Client :: Spring GraphQL</title>
    <link rel="prev" href="graalvm-native.html">
    <link rel="next" href="graphiql.html">
    <meta name="generator" content="Antora 3.2.0-alpha.2">
    <script>
!function (theme, navWidth) {
  if (theme === 'dark') document.documentElement.classList.add('dark-theme')
  if (navWidth) document.documentElement.style.setProperty('--nav-width', `${navWidth}px`)
}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)') && 'dark'),
  localStorage && localStorage.getItem('nav-width'))
    </script>
    <link rel="stylesheet" href="./_/css/site.css">
    <link rel="stylesheet" href="./_/css/vendor/search.css">
    <link rel="stylesheet" href="./_/css/vendor/asciidoctor-tabs.css">

    <meta name="version" content="1.2.3">
    <meta name="component" content="graphql">
    <link rel="icon" href="./_/img/favicon.ico" type="image/vnd.microsoft.icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://spring.io">
        <img
          id="springlogo"
          class="block"
          src="./_/img/spring-logo.svg"
          alt="Spring"
        />
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Why Spring</a>
          <div class="navbar-dropdown">
            <a
              class="navbar-item"
              href="https://spring.io/why-spring"
            >Overview</a>
            <a
              class="navbar-item"
              href="https://spring.io/microservices"
            >Microservices</a>
            <a
              class="navbar-item"
              href="https://spring.io/reactive"
            >Reactive</a>
            <a class="navbar-item" href="https://spring.io/event-driven">Event
              Driven</a>
            <a class="navbar-item" href="https://spring.io/cloud">Cloud</a>
            <a class="navbar-item" href="https://spring.io/web-applications">Web
              Applications</a>
            <a
              class="navbar-item"
              href="https://spring.io/serverless"
            >Serverless</a>
            <a class="navbar-item" href="https://spring.io/batch">Batch</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Learn</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://spring.io/learn">Overview</a>
            <a
              class="navbar-item"
              href="https://spring.io/quickstart"
            >Quickstart</a>
            <a class="navbar-item" href="https://spring.io/guides">Guides</a>
            <a class="navbar-item" href="https://spring.io/blog">Blog</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Projects</a>
          <div class="navbar-dropdown" style="min-width: 280px">
            <a
              class="navbar-item"
              href="https://spring.io/projects"
            >Overview</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-boot"
            >Spring Boot</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-framework"
            >Spring Framework</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-cloud"
            >Spring Cloud</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-cloud-dataflow"
            >Spring Cloud Data Flow</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-data"
            >Spring Data</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-integration"
            >Spring Integration</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-batch"
            >Spring Batch</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-security"
            >Spring Security</a>
            <a
              class="navbar-item navbar-item-special"
              href="https://spring.io/projects"
            >View all projects</a>
            <a class="navbar-item" href="https://spring.io/tools">Spring Tools 4</a>
            <a
              class="navbar-item navbar-item-special-2"
              href="https://start.spring.io"
            >Spring Initializr
              <svg
                class="external-link-icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 16 16"
              ><polyline
                  points="15 10.94 15 15 1 15 1 1 5.06 1"
                  fill="none"
                  stroke="currentColor"
                  stroke-miterlimit="10"
                  stroke-width="2"
                ></polyline><polyline
                  points="8.93 1 15 1 15 7.07"
                  fill="none"
                  stroke="currentColor"
                  stroke-miterlimit="10"
                  stroke-width="2"
                ></polyline><line
                  x1="15"
                  y1="1"
                  x2="8"
                  y2="8"
                  fill="none"
                  stroke="currentColor"
                  stroke-miterlimit="10"
                  stroke-width="2"
                ></line></svg></a>
          </div>
        </div>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Academy</a>
          <div class="navbar-dropdown">
            <a
              class="navbar-item"
              href="https://spring.academy/courses"
            >Courses</a>
            <a
              class="navbar-item"
              href="https://spring.academy/learning-path"
            >Get Certified</a>
          </div>
        </div>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Support</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://spring.io/support">Overview</a>
            <a class="navbar-item" href="https://spring.io/security">Security
              Advisories</a>
          </div>
        </div>

        <div class="navbar-item has-dropdown is-hoverable is-community">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown">
            <a
              class="navbar-item"
              href="https://spring.io/community"
            >Overview</a>
            <a class="navbar-item" href="https://spring.io/events">Events</a>
            <a class="navbar-item" href="https://spring.io/team">Team</a>
          </div>
        </div>
      </div>
    </div>
    <label class="theme-toggler">
      <input
        type="checkbox"
        type="checkbox"
        id="switch-theme-checkbox"
        name="switch-theme-checkbox"
      />
      <span class="icon"><svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fas"
          data-icon="moon"
          class="svg-inline--fa fa-moon moon"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 384 512"
        ><path
            fill="currentColor"
            d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"
          ></path>
        </svg>
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fas"
          data-icon="sun"
          class="svg-inline--fa fa-sun sun"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        ><path
            fill="currentColor"
            d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"
          ></path>
        </svg></span>
      <span class="text">light</span>
    </label>
  </nav>
</header>
<script>
!function (theme) {
  if (theme === 'dark') {
    document.getElementById('switch-theme-checkbox').parentElement.classList.add('active')
  }
}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)') && 'dark'))
</script><div class="body">
<div class="nav-container" data-component="graphql" data-version="1.2.3">
  <aside class="nav">
    <div class="panels">
      <div class="nav-panel-menu is-active" data-panel="menu">
        <nav class="nav-menu">
<div class="context">
  <span class="title">Spring GraphQL</span>
  <span class="version">1.2.3-SNAPSHOT</span>
  <button class="browse-version" id="browse-version">
    <svg
      height="24px"
      id="Layer_1"
      style="enable-background:new 0 0 512 512;"
      version="1.1"
      viewBox="0 0 512 512"
      width="24px"
      xml:space="preserve"
    ><g><path
          d="M256,224c-17.7,0-32,14.3-32,32s14.3,32,32,32c17.7,0,32-14.3,32-32S273.7,224,256,224L256,224z"
        ></path><path
          d="M128.4,224c-17.7,0-32,14.3-32,32s14.3,32,32,32c17.7,0,32-14.3,32-32S146,224,128.4,224L128.4,224z"
        ></path><path
          d="M384,224c-17.7,0-32,14.3-32,32s14.3,32,32,32s32-14.3,32-32S401.7,224,384,224L384,224z"
        ></path></g></svg>
  </button>
</div><div class="search">
  <button class="DocSearch-Button search-button">
    <svg enable-background="new 0 0 32 32" id="Glyph" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <path d="M27.414,24.586l-5.077-5.077C23.386,17.928,24,16.035,24,14c0-5.514-4.486-10-10-10S4,8.486,4,14  s4.486,10,10,10c2.035,0,3.928-0.614,5.509-1.663l5.077,5.077c0.78,0.781,2.048,0.781,2.828,0  C28.195,26.633,28.195,25.367,27.414,24.586z M7,14c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S7,17.86,7,14z" id="XMLID_223_"/>
    </svg>
    <span>Search</span>
    <span class="search-key"></span>
  </button>
</div>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="transports.html">Server Transports</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="request-execution.html">Request Execution</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="data.html">Data Integration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="controllers.html">Annotated Controllers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="observability.html">Observability</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="graalvm-native.html">GraalVM Native support</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="client.html">Client</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="graphiql.html">GraphiQL</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="testing.html">Testing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="boot-starter.html">Boot Starter</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="samples.html">Samples</a>
  </li>
</ul>
  </li>
</ul>
          <div class="toggle-sm">
            <button id="nav-toggle-2" class="nav-toggle"></button>
          </div>
        </nav>
      </div>
      <div class="nav-collapse">
        <button id="nav-collapse-toggle"><span></span></button>        
      </div>
    </div>
    <div class="nav-resize"></div>
  </aside>
</div>
<script>
!function (sidebar) {
  if (sidebar) {
    document.body.classList.add('nav-sm')
  }
}(localStorage && localStorage.getItem('sidebar') === 'close')
</script><main class="article">
<div class="toolbar" role="navigation">
  <button id="nav-toggle-1" class="nav-toggle"></button>
<div class="search">
  <button class="DocSearch-Button search-button">
    <svg enable-background="new 0 0 32 32" id="Glyph" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <path d="M27.414,24.586l-5.077-5.077C23.386,17.928,24,16.035,24,14c0-5.514-4.486-10-10-10S4,8.486,4,14  s4.486,10,10,10c2.035,0,3.928-0.614,5.509-1.663l5.077,5.077c0.78,0.781,2.048,0.781,2.828,0  C28.195,26.633,28.195,25.367,27.414,24.586z M7,14c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S7,17.86,7,14z" id="XMLID_223_"/>
    </svg>
    <span>Search</span>
    <span class="search-key"></span>
  </button>
</div>
</div>
  <div class="content">
<aside class="sidebar">
  <div class="content">
    <div
      class="toc"
      data-title="Client"
      data-levels="2"
    >
      <div class="toc-menu"></div>
    </div>
    <div class="sidebar-links">
        <a href="https://github.com/rwinch/spring-graphql/edit/antora/spring-graphql-docs/modules/ROOT/pages/client.adoc">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24"
            viewBox="0 0 24 24"
            width="24"
          ><path
              d="m16 2.012 3 3L16.713 7.3l-3-3zM4 14v3h3l8.299-8.287-3-3zm0 6h16v2H4z"
            ></path></svg>
          Edit this Page
        </a>
              <a href="https://github.com/rwinch/spring-graphql" title="Github">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="512px"
            id="Layer_1"
            version="1.1"
            viewBox="0 0 512 512"
            width="512px"
          ><style type="text/css"><![CDATA[
              .st0{fill-rule:evenodd;clip-rule:evenodd;} ]]></style><g><path
                class="st0"
                d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"
              ></path></g></svg>
          Github Project
        </a>
        <a href="https://stackoverflow.com/tags/spring-graphql">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path
              d="M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"
            ></path></svg>
          Stack Overflow
        </a>
    </div>
  </div>
</aside><div class="doc">
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Spring GraphQL</a></li>
    <li><a href="client.html">Client</a></li>
  </ul>
</nav>
<article>
<h1 id="page-title" class="page">Client</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Spring for GraphQL includes client support for executing GraphQL requests over HTTP,
WebSocket, and RSocket.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="client.graphqlclient"><a class="anchor" href="#client.graphqlclient"></a><code>GraphQlClient</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>GraphQlClient</code> is a contract that declares a common workflow for GraphQL requests that is
independent of the underlying transport. That means requests are executed with the same API
no matter what the underlying transport, and anything transport specific is configured at
build time.</p>
</div>
<div class="paragraph">
<p>To create a <code>GraphQlClient</code> you need one of the following extensions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#client.httpgraphqlclient">HttpGraphQlClient</a></p>
</li>
<li>
<p><a href="#client.websocketgraphqlclient">WebSocketGraphQlClient</a></p>
</li>
<li>
<p><a href="#client.rsocketgraphqlclient">RSocketGraphQlClient</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each defines a <code>Builder</code> with options relevant to the transport. All builders extend
from a common, base GraphQlClient <a href="#client.graphqlclient.builder"><code>Builder</code></a> with options
relevant to all extensions.</p>
</div>
<div class="paragraph">
<p>Once you have a <code>GraphQlClient</code> you can begin to make <a href="#client.requests">requests</a>.</p>
</div>
<div class="sect2">
<h3 id="client.httpgraphqlclient"><a class="anchor" href="#client.httpgraphqlclient"></a>HTTP</h3>
<div class="paragraph">
<p><code>HttpGraphQlClient</code> uses
<a href="https://docs.spring.io/spring-framework/reference/web/webflux-webclient.html">WebClient</a> to execute
GraphQL requests over HTTP.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">WebClient webClient = ... ;
HttpGraphQlClient graphQlClient = HttpGraphQlClient.create(webClient);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once <code>HttpGraphQlClient</code> is created, you can begin to
<a href="#client.requests">execute requests</a> using the same API, independent of the underlying
transport. If you need to change any transport specific details, use <code>mutate()</code> on an
existing <code>HttpGraphQlClient</code> to create a new instance with customized settings:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">   WebClient webClient = ... ;

HttpGraphQlClient graphQlClient = HttpGraphQlClient.builder(webClient)
		.headers(headers -&gt; headers.setBasicAuth("joe", "..."))
		.build();

// Perform requests with graphQlClient...

HttpGraphQlClient anotherGraphQlClient = graphQlClient.mutate()
		.headers(headers -&gt; headers.setBasicAuth("peter", "..."))
		.build();

// Perform requests with anotherGraphQlClient...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="client.websocketgraphqlclient"><a class="anchor" href="#client.websocketgraphqlclient"></a>WebSocket</h3>
<div class="paragraph">
<p><code>WebSocketGraphQlClient</code> executes GraphQL requests over a shared WebSocket connection.
It is built using the
<a href="https://docs.spring.io/spring-framework/reference/web/webflux-websocket.html#webflux-websocket-client">WebSocketClient</a>
from Spring WebFlux and you can create it as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">String url = "wss://localhost:8080/graphql";
WebSocketClient client = new ReactorNettyWebSocketClient();

WebSocketGraphQlClient graphQlClient = WebSocketGraphQlClient.builder(url, client).build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>In contrast to <code>HttpGraphQlClient</code>, the <code>WebSocketGraphQlClient</code> is connection oriented,
which means it needs to establish a connection before making any requests. As you begin
to make requests, the connection is established transparently. Alternatively, use the
client&#8217;s <code>start()</code> method to establish the connection explicitly before any requests.</p>
</div>
<div class="paragraph">
<p>In addition to being connection-oriented, <code>WebSocketGraphQlClient</code> is also multiplexed.
It maintains a single, shared connection for all requests. If the connection is lost,
it is re-established on the next request or if <code>start()</code> is called again. You can also
use the client&#8217;s <code>stop()</code> method which cancels in-progress requests, closes the
connection, and rejects new requests.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Use a single <code>WebSocketGraphQlClient</code> instance for each server in order to have a
single, shared connection for all requests to that server. Each client instance
establishes its own connection and that is typically not the intent for a single server.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once <code>WebSocketGraphQlClient</code> is created, you can begin to
<a href="#client.requests">execute requests</a> using the same API, independent of the underlying
transport. If you need to change any transport specific details, use <code>mutate()</code> on an
existing <code>WebSocketGraphQlClient</code> to create a new instance with customized settings:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">URI url = ... ;
WebSocketClient client = ... ;

WebSocketGraphQlClient graphQlClient = WebSocketGraphQlClient.builder(url, client)
		.headers(headers -&gt; headers.setBasicAuth("joe", "..."))
		.build();

// Use graphQlClient...

WebSocketGraphQlClient anotherGraphQlClient = graphQlClient.mutate()
		.headers(headers -&gt; headers.setBasicAuth("peter", "..."))
		.build();

// Use anotherGraphQlClient...</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="client.websocketgraphqlclient.interceptor"><a class="anchor" href="#client.websocketgraphqlclient.interceptor"></a>Interceptor</h4>
<div class="paragraph">
<p>The <a href="https://github.com/enisdenjo/graphql-ws/blob/master/PROTOCOL.md">GraphQL over WebSocket</a>
protocol defines a number of connection oriented messages in addition to executing
requests. For example, a client sends <code>"connection_init"</code> and the server responds with
<code>"connection_ack"</code> at the start of a connection.</p>
</div>
<div class="paragraph">
<p>For WebSocket transport specific interception, you can create a
<code>WebSocketGraphQlClientInterceptor</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">static class MyInterceptor implements WebSocketGraphQlClientInterceptor {

	@Override
	public Mono&lt;Object&gt; connectionInitPayload() {
		// ... the "connection_init" payload to send
	}

	@Override
	public Mono&lt;Void&gt; handleConnectionAck(Map&lt;String, Object&gt; ackPayload) {
		// ... the "connection_ack" payload received
	}

}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#client.interception">Register</a> the above interceptor as any other
<code>GraphQlClientInterceptor</code> and use it also to intercept GraphQL requests, but note there
can be at most one interceptor of type <code>WebSocketGraphQlClientInterceptor</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="client.rsocketgraphqlclient"><a class="anchor" href="#client.rsocketgraphqlclient"></a>RSocket</h3>
<div class="paragraph">
<p><code>RSocketGraphQlClient</code> uses
<a href="https://docs.spring.io/spring-framework/reference/rsocket.html#rsocket-requester">RSocketRequester</a>
to execute GraphQL requests over RSocket requests.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">URI uri = URI.create("wss://localhost:8080/rsocket");
WebsocketClientTransport transport = WebsocketClientTransport.create(url);

RSocketGraphQlClient client = RSocketGraphQlClient.builder()
		.clientTransport(transport)
		.build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>In contrast to <code>HttpGraphQlClient</code>, the <code>RSocketGraphQlClient</code> is connection oriented,
which means it needs to establish a session before making any requests. As you begin
to make requests, the session is established transparently. Alternatively, use the
client&#8217;s <code>start()</code> method to establish the session explicitly before any requests.</p>
</div>
<div class="paragraph">
<p><code>RSocketGraphQlClient</code> is also multiplexed. It maintains a single, shared session for
all requests.  If the session is lost, it is re-established on the next request or if
<code>start()</code> is called again. You can also use the client&#8217;s <code>stop()</code> method which cancels
in-progress requests, closes the session, and rejects new requests.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Use a single <code>RSocketGraphQlClient</code> instance for each server in order to have a
single, shared session for all requests to that server. Each client instance
establishes its own connection and that is typically not the intent for a single server.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once <code>RSocketGraphQlClient</code> is created, you can begin to
<a href="#client.requests">execute requests</a> using the same API, independent of the underlying
transport.</p>
</div>
</div>
<div class="sect2">
<h3 id="client.graphqlclient.builder"><a class="anchor" href="#client.graphqlclient.builder"></a>Builder</h3>
<div class="paragraph">
<p><code>GraphQlClient</code> defines a parent <code>Builder</code> with common configuration options for the
builders of all extensions. Currently, it has lets you configure:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>DocumentSource</code> strategy to load the document for a request from a file</p>
</li>
<li>
<p><a href="#client.interception">Interception</a> of executed requests</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="client.requests"><a class="anchor" href="#client.requests"></a>Requests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once you have a <a href="#client.graphqlclient"><code>GraphQlClient</code></a>, you can begin to perform requests via
<a href="#client.requests.retrieve">retrieve()</a> or <a href="#client.requests.execute">execute()</a>
where the former is only a shortcut for the latter.</p>
</div>
<div class="sect2">
<h3 id="client.requests.retrieve"><a class="anchor" href="#client.requests.retrieve"></a>Retrieve</h3>
<div class="paragraph">
<p>The below retrieves and decodes the data for a query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">String document = "{" +
		"  project(slug:\"spring-framework\") {" +
		"	name" +
		"	releases {" +
		"	  version" +
		"	}"+
		"  }" +
		"}";

Mono&lt;Project&gt; projectMono = graphQlClient.document(document) <i class="conum" data-value="1"></i><b>(1)</b>
		.retrieve("project") <i class="conum" data-value="2"></i><b>(2)</b>
		.toEntity(Project.class); <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The operation to perform.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The path under the "data" key in the response map to decode from.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Decode the data at the path to the target type.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The input document is a <code>String</code> that could be a literal or produced through a code
generated request object. You can also define documents in files and use a
<a href="#client.requests.document-source">Document Source</a> to resole them by file name.</p>
</div>
<div class="paragraph">
<p>The path is relative to the "data" key and uses a simple dot (".") separated notation
for nested fields with optional array indices for list elements, e.g. <code>"project.name"</code>
or <code>"project.releases[0].version"</code>.</p>
</div>
<div class="paragraph">
<p>Decoding can result in <code>FieldAccessException</code> if the given path is not present, or the
field value is <code>null</code> and has an error. <code>FieldAccessException</code> provides access to the
response and the field:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Mono&lt;Project&gt; projectMono = graphQlClient.document(document)
		.retrieve("project")
		.toEntity(Project.class)
		.onErrorResume(FieldAccessException.class, ex -&gt; {
			ClientGraphQlResponse response = ex.getResponse();
			// ...
			ClientResponseField field = ex.getField();
			// ...
		});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="client.requests.execute"><a class="anchor" href="#client.requests.execute"></a>Execute</h3>
<div class="paragraph">
<p><a href="#client.requests.retrieve">Retrieve</a> is only a shortcut to decode from a single path in the
response map. For more control, use the <code>execute</code> method and handle the response:</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Mono&lt;Project&gt; projectMono = graphQlClient.document(document)
		.execute()
		.map(response -&gt; {
			if (!response.isValid()) {
				// Request failure... <i class="conum" data-value="1"></i><b>(1)</b>
			}

			ClientResponseField field = response.field("project");
			if (!field.hasValue()) {
				if (field.getError() != null) {
					// Field failure... <i class="conum" data-value="2"></i><b>(2)</b>
				}
				else {
					// Optional field set to null... <i class="conum" data-value="3"></i><b>(3)</b>
				}
			}

			return field.toEntity(Project.class); <i class="conum" data-value="4"></i><b>(4)</b>
		});</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The response does not have data, only errors</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Field that is <code>null</code> and has an associated error</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Field that was set to <code>null</code> by its <code>DataFetcher</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Decode the data at the given path</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="client.requests.document-source"><a class="anchor" href="#client.requests.document-source"></a>Document Source</h3>
<div class="paragraph">
<p>The document for a request is a <code>String</code> that may be defined in a local variable or
constant, or it may be produced through a code generated request object.</p>
</div>
<div class="paragraph">
<p>You can also create document files with extensions <code>.graphql</code> or <code>.gql</code> under
<code>"graphql-documents/"</code> on the classpath and refer to them by file name.</p>
</div>
<div class="paragraph">
<p>For example, given a file called <code>projectReleases.graphql</code> in
<code>src/main/resources/graphql-documents</code>, with content:</p>
</div>
<div class="listingblock">
<div class="title">src/main/resources/graphql-documents/projectReleases.graphql</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-graphql hljs" data-lang="graphql">query projectReleases($slug: ID!) {
	project(slug: $slug) {
		name
		releases {
			version
		}
	}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can then:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Mono&lt;Project&gt; projectMono = graphQlClient.documentName("projectReleases") <i class="conum" data-value="1"></i><b>(1)</b>
		.variable("slug", "spring-framework") <i class="conum" data-value="2"></i><b>(2)</b>
		.retrieve()
		.toEntity(Project.class);</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Load the document from "projectReleases.graphql"</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Provide variable values.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The "JS GraphQL" plugin for IntelliJ supports GraphQL query files with code completion.</p>
</div>
<div class="paragraph">
<p>You can use the <code>GraphQlClient</code> <a href="#client.graphqlclient.builder">Builder</a> to customize the
<code>DocumentSource</code> for loading documents by names.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="client.subscriptions"><a class="anchor" href="#client.subscriptions"></a>Subscription Requests</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>GraphQlClient</code> can execute subscriptions over transports that support it. Only
the WebSocket and RSocket transports support GraphQL subscriptions, so you&#8217;ll need to
create a <a href="#client.websocketgraphqlclient">WebSocketGraphQlClient</a> or
<a href="#client.rsocketgraphqlclient">RSocketGraphQlClient</a>.</p>
</div>
<div class="sect2">
<h3 id="client.subscriptions.retrieve"><a class="anchor" href="#client.subscriptions.retrieve"></a>Retrieve</h3>
<div class="paragraph">
<p>To start a subscription stream, use <code>retrieveSubscription</code> which is similar to
<a href="#client.requests.retrieve">retrieve</a> for a single response but returning a stream of
responses, each decoded to some data:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Flux&lt;String&gt; greetingFlux = client.document("subscription { greetings }")
		.retrieveSubscription("greeting")
		.toEntity(String.class);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>Flux</code> may terminate with <code>SubscriptionErrorException</code> if the subscription  ends from
the server side with an "error" message. The exception provides access to GraphQL errors
decoded from the "error" message.</p>
</div>
<div class="paragraph">
<p>The <code>Flux</code> may termiate with <code>GraphQlTransportException</code> such as
<code>WebSocketDisconnectedException</code> if the underlying connection is closed or lost. In that
case you can use the <code>retry</code> operator to restart the subscription.</p>
</div>
<div class="paragraph">
<p>To end the subscription from the client side, the <code>Flux</code> must be cancelled, and in turn
the WebSocket transport sends a "complete" message to the server. How to cancel the
<code>Flux</code> depends on how it is used. Some operators such as <code>take</code> or <code>timeout</code> themselves
cancel the <code>Flux</code>. If you subscribe to the <code>Flux</code> with a <code>Subscriber</code>, you can get a
reference to the <code>Subscription</code> and cancel through it. The <code>onSubscribe</code> operator also
provides access to the <code>Subscription</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="client.subscriptions.execute"><a class="anchor" href="#client.subscriptions.execute"></a>Execute</h3>
<div class="paragraph">
<p><a href="#client.subscriptions.retrieve">Retrieve</a> is only a shortcut to decode from a single path in each
response map. For more control, use the <code>executeSubscription</code> method and handle each
response directly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Flux&lt;String&gt; greetingFlux = client.document("subscription { greetings }")
		.executeSubscription()
		.map(response -&gt; {
			if (!response.isValid()) {
				// Request failure...
			}

			ClientResponseField field = response.field("project");
			if (!field.hasValue()) {
				if (field.getError() != null) {
					// Field failure...
				}
				else {
					// Optional field set to null... <i class="conum" data-value="3"></i><b>(3)</b>
				}
			}

			return field.toEntity(String.class)
		});</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="client.interception"><a class="anchor" href="#client.interception"></a>Interception</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You create a <code>GraphQlClientInterceptor</code> to intercept all requests through a client:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">static class MyInterceptor implements GraphQlClientInterceptor {

	@Override
	public Mono&lt;ClientGraphQlResponse&gt; intercept(ClientGraphQlRequest request, Chain chain) {
		// ...
		return chain.next(request);
	}

	@Override
	public Flux&lt;ClientGraphQlResponse&gt; interceptSubscription(ClientGraphQlRequest request, SubscriptionChain chain) {
		// ...
		return chain.next(request);
	}

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once the interceptor is created, register it through the client builder:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">URI url = ... ;
WebSocketClient client = ... ;

WebSocketGraphQlClient graphQlClient = WebSocketGraphQlClient.builder(url, client)
		.interceptor(new MyInterceptor())
		.build();</code></pre>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="graalvm-native.html">GraalVM Native support</a></span>
  <span class="next"><a href="graphiql.html">GraphiQL</a></span>
</nav>
</article>
</div>  </div>
</main>
<div class="modal micromodal-slide" id="modal-versions" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true">
            <main class="modal__content" id="modal-versions-content">
              <button data-micromodal-close class="modal-versions-close">
                <svg width="28px" height="28px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><defs><style>.cls-1{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px;}</style></defs><title/><g id="cross"><line class="cls-1" x1="7" x2="25" y1="7" y2="25"/><line class="cls-1" x1="7" x2="25" y1="25" y2="7"/></g></svg>
              </button>
              <div class="colset">
                <div class="col-left">
                  <ul class="nav-versions">
                    <li class="component is-current">
                      <a class="title" href="index.html">Spring GraphQL</a>
                      <ul class="versions">
                        <li class="version is-current is-latest">
                          <a href="index.html">
                            1.2.3-SNAPSHOT<span class="current">current</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
                <div class="col-right">
                  <ul>
                    <li>
                      Related Spring Documentation
                      <ul>
                        <li><a href="https://docs.spring.io/spring-framework/reference/">Spring Framework</a></li>
                        <li><a href="https://docs.spring.io/spring-security/reference/">Spring Security</a></li>
                        <li><a href="https://docs.spring.io/spring-ldap/reference/">Spring LDAP</a></li>
                        <li><a href="https://docs.spring.io/spring-session/reference/">Spring Session</a></li>
                        <li><a href="https://docs.spring.io/spring-authorization-server/reference/">Spring Authorization Server</a></li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </main>
        </div>
    </div>
</div>

</div>
<footer class="footer flex">
    <div id="spring-links flex">
        <img id="springlogo" src="./_/img/spring-logo.svg" alt="Spring">
        <p class="smallest antialiased">© <script>var d = new Date();
        document.write(d.getFullYear());</script> <a href="https://www.vmware.com/">VMware</a>, Inc. or its affiliates. <a href="https://www.vmware.com/help/legal.html">Terms of Use</a> • <a href="https://www.vmware.com/help/privacy.html" rel="noopener noreferrer">Privacy</a> • <a href="https://spring.io/trademarks">Trademark Guidelines</a> <span id="thank-you-mobile">• <a href="https://spring.io/thank-you">Thank you</a></span> • <a href="https://www.vmware.com/help/privacy/california-privacy-rights.html">Your California Privacy Rights</a> • <a class="ot-sdk-show-settings">Cookie Settings</a> <span id="teconsent"></span></p>
        <p class="smallest antialiased has-gray-text">Apache®, Apache Tomcat®, Apache Kafka®, Apache Cassandra&trade;, and Apache Geode&trade; are trademarks or registered trademarks of the Apache Software Foundation in the United States and/or other countries. Java&trade;, Java&trade; SE, Java&trade; EE, and OpenJDK&trade; are trademarks of Oracle and/or its affiliates. Kubernetes® is a registered trademark of the Linux Foundation in the United States and other countries. Linux® is the registered trademark of Linus Torvalds in the United States and other countries. Windows® and Microsoft® Azure are registered trademarks of Microsoft Corporation. “AWS” and “Amazon Web Services” are trademarks or registered trademarks of Amazon.com Inc. or its affiliates. All other trademarks and copyrights are property of their respective owners and are only mentioned for informative purposes. Other names may be trademarks of their respective owners.</p>
    </div>
    <div id="social-icons" class="flex jc-between">
        <a href="https://www.youtube.com/user/SpringSourceDev" title="Youtube"><svg id="youtube-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><circle class="cls-1" cx="20" cy="20" r="20"/><path class="cls-2" d="M30.91,14.53a2.89,2.89,0,0,0-2-2C27.12,12,20,12,20,12s-7.12,0-8.9.47a2.9,2.9,0,0,0-2,2A30.56,30.56,0,0,0,8.63,20a30.44,30.44,0,0,0,.46,5.47,2.89,2.89,0,0,0,2,2C12.9,28,20,28,20,28s7.12,0,8.9-.47a2.87,2.87,0,0,0,2-2A30.56,30.56,0,0,0,31.37,20,28.88,28.88,0,0,0,30.91,14.53ZM17.73,23.41V16.59L23.65,20Z"/></svg></a>
        <a href="https://github.com/spring-projects" title="Github"><svg id="github-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75.93 75.93"><path class="cls-1" d="M38,0a38,38,0,1,0,38,38A38,38,0,0,0,38,0Z"/></g><path class="cls-2" d="M38,15.59A22.95,22.95,0,0,0,30.71,60.3c1.15.21,1.57-.5,1.57-1.11s0-2,0-3.9c-6.38,1.39-7.73-3.07-7.73-3.07A6.09,6.09,0,0,0,22,48.86c-2.09-1.42.15-1.39.15-1.39a4.81,4.81,0,0,1,3.52,2.36c2,3.5,5.37,2.49,6.67,1.91a4.87,4.87,0,0,1,1.46-3.07c-5.09-.58-10.45-2.55-10.45-11.34a8.84,8.84,0,0,1,2.36-6.15,8.29,8.29,0,0,1,.23-6.07s1.92-.62,6.3,2.35a21.82,21.82,0,0,1,11.49,0c4.38-3,6.3-2.35,6.3-2.35a8.29,8.29,0,0,1,.23,6.07,8.84,8.84,0,0,1,2.36,6.15c0,8.81-5.37,10.75-10.48,11.32a5.46,5.46,0,0,1,1.56,4.25c0,3.07,0,5.54,0,6.29s.42,1.33,1.58,1.1A22.94,22.94,0,0,0,38,15.59Z"/></svg></a>
        <a href="https://twitter.com/springcentral" title="Twitter"><svg id="twitter-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75.93 75.93"><circle class="cls-1" cx="37.97" cy="37.97" r="37.97"/><path id="Twitter-2" data-name="Twitter" class="cls-2" d="M55.2,22.73a15.43,15.43,0,0,1-4.88,1.91,7.56,7.56,0,0,0-5.61-2.49A7.78,7.78,0,0,0,37,30a7.56,7.56,0,0,0,.2,1.79,21.63,21.63,0,0,1-15.84-8.23,8,8,0,0,0,2.37,10.52,7.66,7.66,0,0,1-3.48-1v.09A7.84,7.84,0,0,0,26.45,41a7.54,7.54,0,0,1-2,.28A7.64,7.64,0,0,1,23,41.09a7.71,7.71,0,0,0,7.18,5.47,15.21,15.21,0,0,1-9.55,3.37,15.78,15.78,0,0,1-1.83-.11,21.41,21.41,0,0,0,11.78,3.54c14.13,0,21.86-12,21.86-22.42,0-.34,0-.68,0-1a15.67,15.67,0,0,0,3.83-4.08,14.9,14.9,0,0,1-4.41,1.24A7.8,7.8,0,0,0,55.2,22.73Z"/></svg></a>
    </div>
</footer>
<script src="./_/js/vendor/import.js"></script>
<script src="./_/js/site.js"></script>
<script async src="./_/js/vendor/highlight.js"></script>
<script async src="./_/js/vendor/asciidoctor-tabs.js" data-sync-storage-key="docs:preferred-tab"></script>

<div class="modal micromodal-slide" id="modal-1" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
            <main class="modal__content" id="modal-1-content">
                <div id="searchbox"></div>
                <div id="counter"></div>
                <div class="search-by">
                    <a target="_blank" rel="noopener noreferrer" href="https://www.algolia.com/" aria-label="Search by Algolia">
                        <img class="light" width="140" src="./_/img/algolia-light.svg" />
                        <img class="dark" width="140" src="./_/img/algolia-dark.svg" />
                    </a>
                </div>
                <div id="hits"></div>
            </main>
        </div>
    </div>
</div>

<script src="https://unpkg.com/hotkeys-js/dist/hotkeys.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.17.0/dist/algoliasearch-lite.umd.js" integrity="sha256-Lf9DrpGmcRip6OQzbcL6lnvNmoZNSKpyQX5pMlwatWE=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.54.1/dist/instantsearch.production.min.js" integrity="sha256-xYsZPDeNjYNTBWLvqD2Lxe98hOxcDgOHyMPfz4tVAbk=" crossorigin="anonymous"></script>
<script async id="search-script" src="./_/js/vendor/search.js" data-app-id="WB1FQYI187" data-api-key="9d489079e5ec46dbb238909fee5c9c29" data-index-name="springgraphql" data-stylesheet="./_/css/vendor/search.css" data-page-version="1.2.3"></script>

  </body>
</html>
